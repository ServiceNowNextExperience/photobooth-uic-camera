<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_lib_source_script">
    <sys_ux_lib_source_script action="INSERT_OR_UPDATE">
        <config_option/>
        <engine>6</engine>
        <externals/>
        <inner_components/>
        <name>@snc/photobooth-uic-camera</name>
        <script><![CDATA[var __TECTONIC__$snc_photobooth_uic_camera=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=__TECTONIC__$servicenow_ui_renderer_snabbdom},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(o),r=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(r).concat([a]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(o[r]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,':host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,"Source Sans Pro",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.hello{color:red}',""])},function(e,t,n){var o=n(2);e.exports="string"==typeof o?o:o.toString()},function(e,t){e.exports=__TECTONIC__$servicenow_ui_core},function(e,t,n){"use strict";n(0);var o,a=n(0),r=s(a),i=n(4),c=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=i.actionTypes.COMPONENT_CONNECTED,d=i.actionTypes.COMPONENT_PROPERTY_CHANGED,f=function(e,t){var n=e.stream;n&&n.getTracks().forEach(function(e){return e.enabled=t})},p=(u(o={},i.actionTypes.COMPONENT_DOM_READY,function(e){var t=e.host,n=e.state,o=e.updateState;console.log("COMPONENT_DOM_READY");var a=n.properties.enabled,r=t.shadowRoot.getElementById("video"),i=t.shadowRoot.getElementById("canvas");o({video:r,context:i.getContext("2d"),canvas:i}),function(e){var t=e.video,n=e.enabled,o=e.updateState;console.log("Initialize Media"),console.log(navigator.mediaDevices),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(console.log("Media Devices available"),navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){console.log("Got User Media!"),o({stream:e}),t.srcObject=e,t.play(),f({stream:e},n)}).catch(function(e){console.log("Error Getting Media!"),console.log(e)}))}({video:r,enabled:a,updateState:o})}),u(o,l,function(e){e.host;var t=e.state;e.updateState;console.log(l),console.log(t)}),u(o,d,function(e){var t=e.state,n=e.action,o=e.dispatch,a=n.payload,r=a.name,i=a.value,c=a.previousValue;switch(console.log(d),console.log(r),r){case"snapRequested":if(i!=c)v(t,o);break;case"enabled":f(t,i)}}),o),v=function(e,t){var n=e.context,o=e.canvas,a=e.video,r=0;return function e(){switch(r){case 0:n.drawImage(a,0,0,320,240),r=1;break;case 1:n.drawImage(a,320,0,320,240),r=2;break;case 2:n.drawImage(a,0,240,320,240),r=3;break;case 3:n.drawImage(a,320,240,320,240),r=0}if(0!=r)setTimeout(e,500);else{var i=o.toDataURL("image/jpeg");t("PHOTOBOOTH_CAMERA#SNAPPED",{imageData:i})}}()};(0,i.createCustomElement)("snc-photobooth-uic-camera",{renderer:{type:r.default},view:function(e){return console.log("VIEW"),console.log(e),(0,a.createElement)("div",null,(0,a.createElement)("video",{id:"video",width:"640",height:"480",autoplay:""}),(0,a.createElement)("canvas",{id:"canvas",width:"640",height:"480"}))},styles:c.default,initialState:{},actionHandlers:p,dispatches:{PHOTOBOOTH_CAMERA_SNAPPED:{}},properties:{enabled:{schema:{type:"boolean"},default:!1},snapRequested:{default:"",schema:{type:"string"}}}})},function(e,t,n){"use strict";n(5)},function(e,t,n){e.exports=n(6)}]);]]></script>
        <script_link/>
        <sys_class_name>sys_ux_lib_source_script</sys_class_name>
        <sys_created_by>jon.lind</sys_created_by>
        <sys_created_on>2022-09-26 21:38:20</sys_created_on>
        <sys_id>6f69abc99a2e1277aa55dd9a07909e8d</sys_id>
        <sys_name>@snc/photobooth-uic-camera</sys_name>
        <sys_package display_value="Photobooth UIC Camera" source="x_snc_pb_camera">fe8710bf47ce9d10552caf52736d432a</sys_package>
        <sys_policy/>
        <sys_scope display_value="Photobooth UIC Camera">fe8710bf47ce9d10552caf52736d432a</sys_scope>
        <sys_update_name>sys_ux_lib_source_script_6f69abc99a2e1277aa55dd9a07909e8d</sys_update_name>
        <type>script</type>
    </sys_ux_lib_source_script>
</record_update>
